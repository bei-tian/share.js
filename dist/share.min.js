/**
* share.js - Share to social
* @version v1.0.0
* @link https://github.com/lichunqiang/share.js
* @license MIT
* @author lichunqiang
*/
!function(e,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():e.Share=a()}(this,function(){function e(e,i){if(0==$(".weixin-share-modal").length){$("body").append(a(i));var n=$(".weixin-share-modal");n.on("show.bs.modal",function(){n.find(".weixin-share-qrcode").empty(),n.find(".weixin-share-loading").show(),n.find(".weixin-share-qrcode").html('<img src="http://qr.liantu.com/api.php?w=250&text='+encodeURIComponent(i.url)+'">'),n.find(".weixin-share-qrcode img").load(function(){n.find(".weixin-share-loading").hide()})})}$(".weixin-share-modal").modal("show")}function a(e){var a="";return a+='<div class="modal fade weixin-share-modal" tabindex="-1" role="dialog" aria-hidden="true">',a+='  <div class="modal-dialog modal-sm">',a+='    <div class="modal-content">',a+='      <div class="modal-header">',a+='        <button type="button" class="close" data-dismiss="modal" aria-label="关闭"><span aria-hidden="true">×</span></button>',a+='        <h4 class="modal-title">分享到微信朋友圈</h4>',a+="      </div>",a+='      <div class="modal-body">',a+='        <p class="weixin-share-loading" style="text-align:center;">正在加载二维码...</p>',a+='        <p class="weixin-share-qrcode"></p>',a+='        <p class="text-muted"><small>打开微信，点击底部的“发现”，</small><br><small>使用 “扫一扫” 即可将网页分享到我的朋友圈。</small></p>',a+="      </div>",a+="    </div>",a+="  </div>",a+="</div>"}function i(e){var a={};return a.url=e.url,a.title=e.message,a.pic=e.picture,a.appkey=e.appkey,"http://service.weibo.com/share/share.php?"+c(a)}function n(e){var a={};return a.url=e.url,a.title=e.title,a.summary=e.summary,a.desc=e.message,a.pics=e.picture,a.appkey=e.appkey,"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+c(a)}function t(e){var a={};return a.url=e.url,a.title=e.title,a.summary=e.summary,a.desc=e.message,a.pics=e.picture,a.appkey=e.appkey,"http://connect.qq.com/widget/shareqq/index.html?"+c(a)}function r(e){var a={};return a.href=e.url,a.name=e.message,a.text=e.summary,a.image=e.picture,a.appkey=e.appkey,"http://www.douban.com/share/service?"+c(a)}function s(e){var a={};return a.resourceUrl=e.picture,a.pic=e.picture,a.srcUrl=e.url,a.title=e.title,a.description=e.message,a.comment=e.summary,a.appkey=e.appkey,"http://widget.renren.com/dialog/share?"+c(a)}function o(){$("body").on("click",".js-social-share",function(){var a=$(this),o=a.data("network"),c=a.data("appkey"),d=a.closest(".js-social-share-params").data(),p="";switch(d.appkey=c,o){case"weibo":p=i(d),l(p);break;case"qzone":p=n(d),l(p);break;case"qq":p=t(d),l(p);break;case"douban":l(r(d));break;case"renren":l(s(d));break;case"weixin":e(a,d)}})}function c(e){var a=[];for(var i in e)a.push(i+"="+encodeURIComponent(e[i]||""));return a.join("&")}function l(e){window.open(e,"_blank","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=500")}return o});